<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CompilerConfiguration">
    <resourceExtensions />
    <wildcardResourcePatterns>
      <entry name="!?*.java" />
      <entry name="!?*.form" />
      <entry name="!?*.class" />
      <entry name="!?*.groovy" />
      <entry name="!?*.scala" />
      <entry name="!?*.flex" />
      <entry name="!?*.kt" />
      <entry name="!?*.clj" />
      <entry name="!?*.aj" />
    </wildcardResourcePatterns>
    <annotationProcessing>
      <profile default="true" name="Default" enabled="false">
        <processorPath useClasspath="true" />
      </profile>
    </annotationProcessing>
  </component>


  <description>Builds, tests, and runs projx</description>
  <property name="build.dir" value="./"/>
  <property name="src.dir" location="${build.dir}/src"/>
  <property name="test.dir" location="${build.dir}/test/src"/>
  <property name="test.htmlreports.dir" location="${build.dir}/test/htmlreports"/>
  <property name="test.data.dir" location="${build.dir}/test/data"/>
  <property name="junit.class.name" value="com.megacorp.projx.JUnit.AllTests"/>

  <target name="test" depends="compile-test">
    <mkdir dir="${test.data.dir}"/>
    <mkdir dir="${test.htmlreports.dir}"/>
    <junit fork="no" haltonfailure="no" showoutput="yes" printsummary="true">
      <test name="${junit.class.name}" todir="${test.data.dir}"/>
      <formatter type="brief" usefile="false"/>
      <formatter type="xml"/>
      <classpath refid="classpath.base" />
      <classpath refid="classpath.src" />
      <classpath refid="classpath.junittest" />
    </junit>
    <junitreport todir="${test.htmlreports.dir}">
      <fileset dir="${test.data.dir}">
        <include name="TEST-*.xml"/>
      </fileset>
      <report format="frames" todir="${test.htmlreports.dir}"/>

    </junitreport>

  </target>


</project>